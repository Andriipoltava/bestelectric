{"version":3,"sources":["product-single-form.js"],"names":["$","on","addClass","event","variation","removeClass","ProductForm","$scope","find","e","preventDefault","hasClass","toggleClass","setTimeout","this","next","id","attr","length","animate","scrollTop","offset","top","fancybox","_self","parent","each","data","closest","lists","show","swiper","Swiper","loop","init","dots","spaceBetween","slidesPerView","css","display","count","jQuery","text","realIndex","sliderIndexF","slideChange","resize","width","update","breakpoints","navigation","prevEl","nextEl","slideContent","WooVariationSwatchesMod","hide","index","slides","i","slideTo","change","document","ready","item","console","log","window","elementorFrontend","hooks","addAction","$this","min","l","currentBreakpoint","bl","originalParams"],"mappings":"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","file":"product-single-form.min.js","sourcesContent":["(function ($) {\n    $( \".variations_form\" ).on( \"woocommerce_variation_select_change\", function () {\n        // Fires whenever variation selects are changed\n        $('#ppc-top-title').addClass('hide')\n        $('#ppc-bottom-payment-logos').addClass('hide')\n    } );\n\n    $( \".single_variation_wrap\" ).on( \"show_variation\", function ( event, variation ) {\n        // Fired when the user selects all the required dropdowns / attributes\n        // and a final variation is selected / shown\n        $('#ppc-top-title').removeClass('hide')\n        $('#ppc-bottom-payment-logos').removeClass('hide')\n    } );\n\n    const ProductForm = function ($scope, $) {\n\n\n        $scope.find('.variation-dropdown-specification').on('click', function (e) {\n            e.preventDefault()\n            if (!$scope.find('.variation-dropdown-specification').hasClass('time')) {\n                $scope.find('.variation-dropdown-specification').toggleClass('active')\n                $scope.find('.variation-dropdown-specification').addClass('time')\n                $scope.find('.variation-dropdown-specification__bottom').toggleClass('show')\n            }\n            setTimeout(function () {\n                $scope.find('.variation-dropdown-specification').removeClass('time')\n            }, 200)\n\n\n        })\n        $scope.find('.product_upsells h3').on('click', function () {\n            $(this).next().toggleClass('ac_open')\n        })\n        $scope.find('.anchor').on('click', function (e) {\n            e.preventDefault();\n            let id = $(this).attr('href')\n            if ($(id).length)\n                $(\"html, body\").animate({\n                    scrollTop: $(id).offset().top,\n                }, 300);\n        })\n        $scope.find('.JS-cvy_image_groups').fancybox({});\n\n        $scope.find('.accordion__header').on('click', function () {\n            const _self= $(this)\n            if (! _self.parent().hasClass('time')) {\n                _self.parent().addClass('time')\n                _self.parent().toggleClass('show')\n            }\n            setTimeout(function () {\n                _self.parent().removeClass('time')\n            }, 200)\n        })\n        if ($scope.find('.variable-items-wrapper').length) {\n            $scope.find('.variable-items-wrapper').each(function () {\n                if ($(this).data('attribute_name') === 'attribute_pa_wattage' && $(this).closest('.variations-item').hasClass('var_slider_wattage')) {\n                    const lists = $(this)\n                    lists.find('li').addClass('swiper-slide')\n                    lists.addClass('swiper-wrapper')\n                    lists.closest('.variations-item').addClass('variations-item__slider')\n                    lists.parent().show()\n                    const swiper = new Swiper(lists.parent(), {\n                        loop: false,\n                        init: true,\n                        dots: false,\n                        spaceBetween: 20,\n                        slidesPerView: 1,\n                        on: {\n                            init: function (data) {\n                                $scope.find('.var-slider__nav').css({display: 'block'})\n                                let count = jQuery('.woo-variation-items-wrapper li.cvy_variation_list_item:not(.no-match)')\n                                $scope.find('.var-slider__nav-arrow-fr').text((this.realIndex + sliderIndexF(this)) + '/' + count.length)\n                            },\n                            slideChange: function (data) {\n                                let count = jQuery('.woo-variation-items-wrapper li.cvy_variation_list_item:not(.no-match)')\n\n                                $scope.find('.var-slider__nav-arrow-fr').text((this.realIndex + sliderIndexF(this)) + '/' + count.length)\n\n                            },\n                            resize: function () {\n                                $scope.find('.variations-item__slider').css({width: $scope.find('.variations_form').width()})\n                                let count = jQuery('.woo-variation-items-wrapper li.cvy_variation_list_item:not(.no-match)')\n                                $scope.find('.var-slider__nav-arrow-fr').text((this.realIndex + sliderIndexF(this)) + '/' + count.length)\n\n                            },\n                            update: function () {\n                                let count = jQuery('.woo-variation-items-wrapper li.cvy_variation_list_item:not(.no-match)')\n                                $scope.find('.var-slider__nav-arrow-fr').text((this.realIndex + sliderIndexF(this)) + '/' + count.length)\n\n                            }\n                        },\n                        breakpoints: {\n                            // when window width is >= 320px\n                            460: {\n                                slidesPerView: 2,\n\n                            },\n                        },\n                        navigation: {\n                            prevEl: '.var-slider__nav-arrow-prev',\n                            nextEl: '.var-slider__nav-arrow-next'\n                        },\n                        slideContent: '.swiper-wrapper',\n\n                    })\n                    $scope.find('.variations-item__slider').css({width: $scope.find('.variations_form').width()})\n\n                    setTimeout(function () {\n                        jQuery('.variations_form').WooVariationSwatchesMod()\n                        $scope.find('.variations-item__slider').css({width: $scope.find('.variations_form').width()})\n\n                        swiper.update()\n\n                        let count = jQuery('.woo-variation-items-wrapper li.cvy_variation_list_item:not(.no-match)')\n\n                        $scope.find('.var-slider__nav-arrow-fr').text((swiper.realIndex + sliderIndexF(swiper)) + '/' + count.length)\n                        if ($('.JS--gallery-loader').length !== 0) {\n                            $('.JS--gallery-loader').hide();\n                        }\n                        let index = 0\n                        swiper.slides.each(function (i) {\n                            if ($(this).hasClass('selected') && !$(this).hasClass('no-match')) {\n                                index = i;\n                            }\n                        })\n                        if ($scope.find('.cvy_variation_list_item.selected:not(.no-match)'))\n                            swiper.slideTo(index)\n                        $('.variations_form').change(function () {\n                            setTimeout(function () {\n                                swiper.update()\n                            }, 100)\n                        })\n                        jQuery('.cvy_variation_list_item:not(.no-match)').each(function (i) {\n                            if ($(this).hasClass('selected')) {\n                                index = i;\n                            }\n                        })\n                        setTimeout(function () {\n                            swiper.update()\n                            swiper.slideTo(index)\n                            $scope.find('.variations-item.var_slider_wattage').addClass('is-loaded')\n                        }, 500)\n\n                    }, 500)\n                } else {\n                    $(document).ready(function () {\n                        if ($('.JS--gallery-loader').length !== 0) {\n                            $('.JS--gallery-loader').hide();\n                        }\n\n                    })\n\n                }\n            })\n        } else {\n\n            setTimeout(function () {\n                if ($('.JS--gallery-loader').length !== 0) {\n                    $('.JS--gallery-loader').hide();\n                }\n            }, 500)\n        }\n\n\n    };\n\n\n    $(document).ready(function () {\n\n        if ($('.elementor-widget-custom-woo-single-product-form')) {\n            $('.elementor-widget-custom-woo-single-product-form').each(function (item) {\n                const _self = $(this)\n\n                setTimeout(function () {\n                    console.log(5)\n                    ProductForm(_self, $)\n                }, 1000)\n            })\n\n        } else {\n            $(window).on('elementor/frontend/init', function () {\n                console.log(3)\n                elementorFrontend.hooks.addAction('frontend/element_ready/custom-woo-single-product-form.default', ProductForm);\n            });\n        }\n\n\n    })\n    $(window).on('elementor/frontend/init', function () {\n\n\n        elementorFrontend.hooks.addAction('frontend/element_ready/custom-woo-single-product-form.default', ProductForm);\n\n    });\n\n    function sliderIndexF($this, min = 1) {\n\n        let l = $this.currentBreakpoint, bl\n        if (l === 'max') {\n            bl = min\n        } else\n            bl = $this.originalParams.breakpoints[l].slidesPerView\n\n        if (bl > $this.slides.length) {\n            bl = $this.slides.length\n        }\n        return bl;\n    }\n})(jQuery);\n"]}