{"version":3,"sources":["product-single-form.js"],"names":["$","jQuery","on","animate","scrollTop","offset","top","e","preventDefault","form","this","mainId","find","val","fData","serializeArray","block","message","overlayCSS","background","opacity","wc_add_to_cart_params","ajax","type","url","wc_ajax_url","toString","replace","data","product_id","form_data","success","response","document","body","trigger","remove","append","unblock","error","addClass","event","variation","removeClass","ProductForm","$scope","hasClass","toggleClass","setTimeout","_self","parent","id","attr","length","fancybox","each","closest","lists","show","swiper","Swiper","loop","init","dots","spaceBetween","slidesPerView","css","display","count","text","realIndex","sliderIndexF","slideChange","resize","width","update","breakpoints","navigation","prevEl","nextEl","slideContent","WooVariationSwatchesMod","hide","index","slides","i","slideTo","change","window","elementorFrontend","hooks","addAction","console","log","$this","min","l","currentBreakpoint","bl","originalParams"],"mappings":"CAAA,SAAAA,GACAC,OAAA,8BAAAC,GAAA,SAAA,WACAD,OAAA,cAAAE,QAAA,CACAC,UAAAH,OAAA,oBAAAI,SAAAC,KACA,QAGAN,EAAA,aAAAE,GAAA,UAAA,SAAAK,GACAA,EAAAC,iBAEA,IAAAC,KAAAT,EAAAU,MACAC,OAAAF,KAAAG,KAAA,8BAAAC,MACAC,MAAAL,KAAAM,iBAEAN,KAAAO,MAAA,CAAAC,QAAA,KAAAC,WAAA,CAAAC,WAAA,OAAAC,QAAA,MAEA,GAAA,KAAAT,OACAA,OAAAF,KAAAG,KAAA,4BAAAC,MAGA,GAAA,qBAAAQ,sBACA,OAAA,MAEArB,EAAAsB,KAAA,CACAC,KAAA,OACAC,IAAAH,sBAAAI,YAAAC,WAAAC,QAAA,eAAA,sBACAC,KAAA,CACAC,WAAAlB,OACAmB,UAAAhB,OAEAiB,QAAA,SAAAC,UACAhC,EAAAiC,SAAAC,MAAAC,QAAA,uBACAnC,EAAA,2CAAAoC,SACApC,EAAA,0BAAAa,IAAA,GACAb,EAAA,gCAAAqC,OAAAL,UACAvB,KAAA6B,UACArC,OAAA,cAAAE,QAAA,CACAC,UAAA,GACA,MAGAmC,MAAA,SAAAA,OACA9B,KAAA6B,gBAKAtC,EAAA,oBAAAE,GAAA,uCAAA,WAEAF,EAAA,kBAAAwC,SAAA,QACAxC,EAAA,6BAAAwC,SAAA,WAGAxC,EAAA,0BAAAE,GAAA,kBAAA,SAAAuC,MAAAC,WAGA1C,EAAA,kBAAA2C,YAAA,QACA3C,EAAA,6BAAA2C,YAAA,WAEA,MAAAC,YAAA,SAAAC,OAAA7C,GACA6C,OAAAjC,KAAA,qCAAAV,GAAA,SAAA,SAAAK,GACAA,EAAAC,iBACA,IAAAqC,OAAAjC,KAAA,qCAAAkC,SAAA,QAAA,CACAD,OAAAjC,KAAA,qCAAAmC,YAAA,UACAF,OAAAjC,KAAA,qCAAA4B,SAAA,QACAK,OAAAjC,KAAA,6CAAAmC,YAAA,QAEAC,YAAA,WACAH,OAAAjC,KAAA,qCAAA+B,YAAA,UACA,QAKAE,OAAAjC,KAAA,sBAAAV,GAAA,SAAA,WACA,MAAA+C,MAAAjD,EAAAU,MACA,IAAAuC,MAAAC,SAAAJ,SAAA,QAAA,CACAG,MAAAC,SAAAV,SAAA,QACAS,MAAAC,SAAAH,YAAA,QAEAC,YAAA,WACAC,MAAAC,SAAAP,YAAA,UACA,QAGAE,OAAAjC,KAAA,WAAAV,GAAA,SAAA,SAAAK,GACAA,EAAAC,iBACA,IAAA2C,GAAAnD,EAAAU,MAAA0C,KAAA,QACA,GAAApD,EAAAmD,IAAAE,OACArD,EAAA,cAAAG,QAAA,CACAC,UAAAJ,EAAAmD,IAAA9C,SAAAC,KACA,QAEAuC,OAAAjC,KAAA,wBAAA0C,SAAA,IAEAT,OAAAjC,KAAA,sBAAAV,GAAA,SAAA,WACA,MAAA+C,MAAAjD,EAAAU,MACA,IAAAuC,MAAAC,SAAAJ,SAAA,QAAA,CACAG,MAAAC,SAAAV,SAAA,QACAS,MAAAC,SAAAH,YAAA,QAEAC,YAAA,WACAC,MAAAC,SAAAP,YAAA,UACA,QAEA,GAAAE,OAAAjC,KAAA,2BAAAyC,OACAR,OAAAjC,KAAA,2BAAA2C,MAAA,WACA,GAAA,yBAAAvD,EAAAU,MAAAkB,KAAA,mBAAA5B,EAAAU,MAAA8C,QAAA,oBAAAV,SAAA,sBAAA,CACA,MAAAW,MAAAzD,EAAAU,MACA+C,MAAA7C,KAAA,MAAA4B,SAAA,gBACAiB,MAAAjB,SAAA,kBACAiB,MAAAD,QAAA,oBAAAhB,SAAA,2BACAiB,MAAAP,SAAAQ,OACA,MAAAC,OAAA,IAAAC,OAAAH,MAAAP,SAAA,CACAW,KAAA,MACAC,KAAA,KACAC,KAAA,MACAC,aAAA,GACAC,cAAA,EACA/D,GAAA,CACA4D,KAAA,SAAAlC,MACAiB,OAAAjC,KAAA,oBAAAsD,IAAA,CAAAC,QAAA,UACA,IAAAC,MAAAnE,OAAA,0EACA4C,OAAAjC,KAAA,6BAAAyD,KAAA3D,KAAA4D,UAAAC,aAAA7D,MAAA,IAAA0D,MAAAf,SAEAmB,YAAA,SAAA5C,MACA,IAAAwC,MAAAnE,OAAA,0EAEA4C,OAAAjC,KAAA,6BAAAyD,KAAA3D,KAAA4D,UAAAC,aAAA7D,MAAA,IAAA0D,MAAAf,SAGAoB,OAAA,WACA5B,OAAAjC,KAAA,4BAAAsD,IAAA,CAAAQ,MAAA7B,OAAAjC,KAAA,oBAAA8D,UACA,IAAAN,MAAAnE,OAAA,0EACA4C,OAAAjC,KAAA,6BAAAyD,KAAA3D,KAAA4D,UAAAC,aAAA7D,MAAA,IAAA0D,MAAAf,SAGAsB,OAAA,WACA,IAAAP,MAAAnE,OAAA,0EACA4C,OAAAjC,KAAA,6BAAAyD,KAAA3D,KAAA4D,UAAAC,aAAA7D,MAAA,IAAA0D,MAAAf,UAIAuB,YAAA,CAEA,IAAA,CACAX,cAAA,IAIAY,WAAA,CACAC,OAAA,8BACAC,OAAA,+BAEAC,aAAA,oBAGAnC,OAAAjC,KAAA,4BAAAsD,IAAA,CAAAQ,MAAA7B,OAAAjC,KAAA,oBAAA8D,UAEA1B,YAAA,WACA/C,OAAA,oBAAAgF,0BACApC,OAAAjC,KAAA,4BAAAsD,IAAA,CAAAQ,MAAA7B,OAAAjC,KAAA,oBAAA8D,UACAf,OAAAgB,SACA,IAAAP,MAAAnE,OAAA,0EAEA4C,OAAAjC,KAAA,6BAAAyD,KAAAV,OAAAW,UAAAC,aAAAZ,QAAA,IAAAS,MAAAf,QACA,GAAA,IAAArD,EAAA,uBAAAqD,OACArD,EAAA,uBAAAkF,OAEA,IAAAC,MAAA,EACAxB,OAAAyB,OAAA7B,MAAA,SAAA8B,GACA,GAAArF,EAAAU,MAAAoC,SAAA,cAAA9C,EAAAU,MAAAoC,SAAA,YACAqC,MAAAE,KAGA,GAAAxC,OAAAjC,KAAA,oDACA+C,OAAA2B,QAAAH,OACAnF,EAAA,oBAAAuF,QAAA,WACAvC,YAAA,WACAW,OAAAgB,WACA,QAEA1E,OAAA,2CAAAsD,MAAA,SAAA8B,GACA,GAAArF,EAAAU,MAAAoC,SAAA,YACAqC,MAAAE,KAGArC,YAAA,WACAW,OAAAgB,SACAhB,OAAA2B,QAAAH,OACAtC,OAAAjC,KAAA,uCAAA4B,SAAA,eACA,OAEA,UAEAQ,YAAA,WACA,GAAA,IAAAhD,EAAA,uBAAAqD,OACArD,EAAA,uBAAAkF,SAEA,aAKAlC,YAAA,WACA,GAAA,IAAAhD,EAAA,uBAAAqD,OACArD,EAAA,uBAAAkF,SAEA,MAKAlF,EAAAwF,QAAAtF,GAAA,2BAAA,WACAuF,kBAAAC,MAAAC,UAAA,gEAAA/C,aACAgD,QAAAC,IAAA,oEAIA,SAAAtB,aAAAuB,MAAAC,IAAA,GAEA,IAAAC,EAAAF,MAAAG,kBAAAC,GACA,GAAA,QAAAF,EACAE,GAAAH,SAEAG,GAAAJ,MAAAK,eAAAvB,YAAAoB,GAAA/B,cAEA,GAAAiC,GAAAJ,MAAAV,OAAA/B,OACA6C,GAAAJ,MAAAV,OAAA/B,OAEA,OAAA6C,KAtOA,CAwOAjG","file":"product-single-form.min.js","sourcesContent":["(function ($) {\n    jQuery('.o-product-top__trustpilot').on('click', function () {\n        jQuery(\"html, body\").animate({\n            scrollTop: jQuery('#reviews-section').offset().top,\n        }, 300);\n    })\n\n    $('form.cart').on('submit', function (e) {\n        e.preventDefault();\n\n        var form = $(this),\n            mainId = form.find('.single_add_to_cart_button').val(),\n            fData = form.serializeArray();\n\n        form.block({message: null, overlayCSS: {background: '#fff', opacity: 0.6}});\n\n        if (mainId === '') {\n            mainId = form.find('input[name=\"product_id\"]').val();\n        }\n\n        if (typeof wc_add_to_cart_params === 'undefined')\n            return false;\n\n        $.ajax({\n            type: 'POST',\n            url: wc_add_to_cart_params.wc_ajax_url.toString().replace('%%endpoint%%', 'custom_add_to_cart'),\n            data: {\n                'product_id': mainId,\n                'form_data': fData\n            },\n            success: function (response) {\n                $(document.body).trigger(\"wc_fragment_refresh\");\n                $('.woocommerce-error,.woocommerce-message').remove();\n                $('input[name=\"quantity\"]').val(1);\n                $('.woocommerce-notices-wrapper').append(response);\n                form.unblock();\n                jQuery(\"html, body\").animate({\n                    scrollTop: 0,\n                }, 300);\n\n            },\n            error: function (error) {\n                form.unblock();\n                // console.log(error);\n            }\n        });\n    });\n    $(\".variations_form\").on(\"woocommerce_variation_select_change\", function () {\n        // Fires whenever variation selects are changed\n        $('#ppc-top-title').addClass('hide')\n        $('#ppc-bottom-payment-logos').addClass('hide')\n    });\n\n    $(\".single_variation_wrap\").on(\"show_variation\", function (event, variation) {\n        // Fired when the user selects all the required dropdowns / attributes\n        // and a final variation is selected / shown\n        $('#ppc-top-title').removeClass('hide')\n        $('#ppc-bottom-payment-logos').removeClass('hide')\n    });\n    const ProductForm = function ($scope, $) {\n        $scope.find('.variation-dropdown-specification').on('click', function (e) {\n            e.preventDefault()\n            if (!$scope.find('.variation-dropdown-specification').hasClass('time')) {\n                $scope.find('.variation-dropdown-specification').toggleClass('active')\n                $scope.find('.variation-dropdown-specification').addClass('time')\n                $scope.find('.variation-dropdown-specification__bottom').toggleClass('show')\n            }\n            setTimeout(function () {\n                $scope.find('.variation-dropdown-specification').removeClass('time')\n            }, 200)\n\n\n        })\n\n        $scope.find('.accordion__header').on('click', function () {\n            const _self = $(this)\n            if (!_self.parent().hasClass('time')) {\n                _self.parent().addClass('time')\n                _self.parent().toggleClass('show')\n            }\n            setTimeout(function () {\n                _self.parent().removeClass('time')\n            }, 200)\n        })\n\n        $scope.find('.anchor').on('click', function (e) {\n            e.preventDefault();\n            let id = $(this).attr('href')\n            if ($(id).length)\n                $(\"html, body\").animate({\n                    scrollTop: $(id).offset().top,\n                }, 300);\n        })\n        $scope.find('.JS-cvy_image_groups').fancybox({});\n\n        $scope.find('.accordion__header').on('click', function () {\n            const _self = $(this)\n            if (!_self.parent().hasClass('time')) {\n                _self.parent().addClass('time')\n                _self.parent().toggleClass('show')\n            }\n            setTimeout(function () {\n                _self.parent().removeClass('time')\n            }, 200)\n        })\n        if ($scope.find('.variable-items-wrapper').length) {\n            $scope.find('.variable-items-wrapper').each(function () {\n                if ($(this).data('attribute_name') === 'attribute_pa_wattage' && $(this).closest('.variations-item').hasClass('var_slider_wattage')) {\n                    const lists = $(this)\n                    lists.find('li').addClass('swiper-slide')\n                    lists.addClass('swiper-wrapper')\n                    lists.closest('.variations-item').addClass('variations-item__slider')\n                    lists.parent().show()\n                    const swiper = new Swiper(lists.parent(), {\n                        loop: false,\n                        init: true,\n                        dots: false,\n                        spaceBetween: 20,\n                        slidesPerView: 1,\n                        on: {\n                            init: function (data) {\n                                $scope.find('.var-slider__nav').css({display: 'block'})\n                                let count = jQuery('.woo-variation-items-wrapper li.cvy_variation_list_item:not(.no-match)')\n                                $scope.find('.var-slider__nav-arrow-fr').text((this.realIndex + sliderIndexF(this)) + '/' + count.length)\n                            },\n                            slideChange: function (data) {\n                                let count = jQuery('.woo-variation-items-wrapper li.cvy_variation_list_item:not(.no-match)')\n\n                                $scope.find('.var-slider__nav-arrow-fr').text((this.realIndex + sliderIndexF(this)) + '/' + count.length)\n\n                            },\n                            resize: function () {\n                                $scope.find('.variations-item__slider').css({width: $scope.find('.variations_form').width()})\n                                let count = jQuery('.woo-variation-items-wrapper li.cvy_variation_list_item:not(.no-match)')\n                                $scope.find('.var-slider__nav-arrow-fr').text((this.realIndex + sliderIndexF(this)) + '/' + count.length)\n\n                            },\n                            update: function () {\n                                let count = jQuery('.woo-variation-items-wrapper li.cvy_variation_list_item:not(.no-match)')\n                                $scope.find('.var-slider__nav-arrow-fr').text((this.realIndex + sliderIndexF(this)) + '/' + count.length)\n\n                            }\n                        },\n                        breakpoints: {\n                            // when window width is >= 320px\n                            460: {\n                                slidesPerView: 2,\n\n                            },\n                        },\n                        navigation: {\n                            prevEl: '.var-slider__nav-arrow-prev',\n                            nextEl: '.var-slider__nav-arrow-next'\n                        },\n                        slideContent: '.swiper-wrapper',\n\n                    })\n                    $scope.find('.variations-item__slider').css({width: $scope.find('.variations_form').width()})\n\n                    setTimeout(function () {\n                        jQuery('.variations_form').WooVariationSwatchesMod()\n                        $scope.find('.variations-item__slider').css({width: $scope.find('.variations_form').width()})\n                        swiper.update()\n                        let count = jQuery('.woo-variation-items-wrapper li.cvy_variation_list_item:not(.no-match)')\n\n                        $scope.find('.var-slider__nav-arrow-fr').text((swiper.realIndex + sliderIndexF(swiper)) + '/' + count.length)\n                        if ($('.JS--gallery-loader').length !== 0) {\n                            $('.JS--gallery-loader').hide();\n                        }\n                        let index = 0\n                        swiper.slides.each(function (i) {\n                            if ($(this).hasClass('selected') && !$(this).hasClass('no-match')) {\n                                index = i;\n                            }\n                        })\n                        if ($scope.find('.cvy_variation_list_item.selected:not(.no-match)'))\n                            swiper.slideTo(index)\n                        $('.variations_form').change(function () {\n                            setTimeout(function () {\n                                swiper.update()\n                            }, 100)\n                        })\n                        jQuery('.cvy_variation_list_item:not(.no-match)').each(function (i) {\n                            if ($(this).hasClass('selected')) {\n                                index = i;\n                            }\n                        })\n                        setTimeout(function () {\n                            swiper.update()\n                            swiper.slideTo(index)\n                            $scope.find('.variations-item.var_slider_wattage').addClass('is-loaded')\n                        }, 500)\n\n                    }, 500)\n                } else {\n                    setTimeout(function () {\n                        if ($('.JS--gallery-loader').length !== 0) {\n                            $('.JS--gallery-loader').hide();\n                        }\n                    }, 500)\n                }\n            })\n        } else {\n\n            setTimeout(function () {\n                if ($('.JS--gallery-loader').length !== 0) {\n                    $('.JS--gallery-loader').hide();\n                }\n            }, 500)\n        }\n\n\n    };\n    $(window).on('elementor/frontend/init', function () {\n        elementorFrontend.hooks.addAction('frontend/element_ready/custom-woo-single-product-form.default', ProductForm);\n        console.log('frontend/element_ready/custom-woo-single-product-form.default')\n\n    });\n\n    function sliderIndexF($this, min = 1) {\n\n        let l = $this.currentBreakpoint, bl\n        if (l === 'max') {\n            bl = min\n        } else\n            bl = $this.originalParams.breakpoints[l].slidesPerView\n\n        if (bl > $this.slides.length) {\n            bl = $this.slides.length\n        }\n        return bl;\n    }\n})(jQuery);\n"]}