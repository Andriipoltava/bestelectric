{"version":3,"sources":["product-gallery.js"],"names":["$","ProductGallery","$scope","find","css","height","remove","swiperVertical","Swiper","loop","init","dots","slidesPerView","autoHeight","watchOverflow","watchSlidesVisibility","watchSlidesProgress","freeMode","mousewheel","releaseOnEdges","lazy","spaceBetween","navigation","prevEl","nextEl","breakpoints","direction","swiperMain","preloadImages","pagination","el","clickable","fadeEffect","crossFade","thumbs","swiper","slideContent","mySwiper","jQuery","length","data","src","full_src","thumb_src","before","update","slideTo","on","e","oldSrc","console","log","setTimeout","fancybox","event","target","closest","fancyboxHandler","item","each","index","this","attr","thisTarget","open","type","opts","toolbar","defaultType","autoFocus","touch","afterLoad","window","elementorFrontend","hooks","addAction"],"mappings":"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","file":"product-gallery.min.js","sourcesContent":["(function ($) {\n        const ProductGallery = function ($scope, $) {\n            if ($scope.find('.svi-gallery-top')) {\n                $scope.find('.svi-gallery-top .swiper-wrapper').css({height: 'auto'})\n                $scope.find('.c-gallery-loader__thumb--big').remove()\n                $scope.css('--swiper-navigation-color', '#333333')\n\n            }\n\n            const swiperVertical = new Swiper($scope.find('#gallery-swiper-vertical'), {\n                loop: false,\n                init: true,\n                dots: false,\n                slidesPerView: 4,\n                autoHeight: true,\n                watchOverflow: true,\n                watchSlidesVisibility: true,\n                watchSlidesProgress: true,\n                freeMode: true,\n                mousewheel: {\n                    releaseOnEdges: true,\n                },\n                lazy: true,\n                spaceBetween: 10,\n                navigation: {\n                    prevEl: '.gallery-vertical .swiper-button-prev',\n                    nextEl: '.gallery-vertical .swiper-button-next'\n                },\n\n                breakpoints: {\n                    // when window width is >= 320px\n                    567: {\n                        direction: 'vertical',\n                        spaceBetween: 10,\n                    },\n\n                    1260: {\n                        direction: 'vertical',\n                        spaceBetween: 20,\n                    },\n                    1360: {\n                        direction: 'vertical',\n                        spaceBetween: 25,\n                    },\n\n                },\n\n            })\n            const swiperMain = new Swiper($scope.find('#gallery-swiper-main'), {\n                loop: false,\n                init: true,\n                dots: true,\n                autoHeight: true,\n                // If we need pagination\n                spaceBetween: 1,\n                preloadImages: false,\n                lazy: true,\n                pagination: {\n                    el: '.swiper-pagination',\n                    clickable: true,\n                },\n                slidesPerView: 1,\n\n                fadeEffect: {\n                    crossFade: true\n                },\n                thumbs: {\n                    swiper: swiperVertical\n                },\n                slideContent: $scope.find('#gallery-swiper-main .swiper-wrapper'),\n\n            })\n            var mySwiper = new Swiper('#lightbox .swiper-container', {\n                init: false,\n                navigation: {\n                    prevEl: '#lightbox  .swiper-button-prev',\n                    nextEl: '#lightbox  .swiper-button-next'\n                },\n\n            })\n\n            if (jQuery('.variable-items-wrapper .cvy_variation_list_item.selected').length && jQuery('.variable-items-wrapper .cvy_variation_list_item.selected').data('src').length > 4) {\n                let src = jQuery('.variable-items-wrapper .cvy_variation_list_item.selected').data('src')\n                let full_src = jQuery('.variable-items-wrapper .cvy_variation_list_item.selected').data('full_src') ? jQuery('.variable-items-wrapper .cvy_variation_list_item.selected').data('full_src') : src\n                let thumb_src = jQuery('.variable-items-wrapper .cvy_variation_list_item.selected').data('thumb_src') ? jQuery('.variable-items-wrapper .cvy_variation_list_item.selected').data('thumb_src') : src\n                jQuery('#gallery-swiper-main .swiper-slide:first-child').before(`<div class=\"swiper-slide variation fancybox-trigger\"><img src=\"${src}\" width=\"645\" height=\"545\" alt=\"\"></div>`)\n                jQuery('#gallery-swiper-vertical .swiper-slide:first-child').before(`<div class=\"swiper-slide variation \"><img src=\"${thumb_src}\" width=\"80\" height=\"80\" alt=\"\"></div>`)\n                jQuery('#lightbox .swiper-slide:first-child').before(`<div class=\"swiper-slide variation\"><img src=\"${full_src}\"  alt=\"\"></div>`)\n                swiperMain.update();\n                swiperVertical.update();\n                mySwiper.update();\n                swiperMain.slideTo(0);\n                swiperVertical.slideTo(0);\n                swiperMain.update();\n\n            }\n            if (jQuery('.var_slider_wattage').length) {\n                $(\".variations_form\").on(\"woocommerce_variation_select_change\", function (e) {\n                    const oldSrc = jQuery('.variable-items-wrapper .cvy_variation_list_item.selected').data('src')\n                    console.log(jQuery('.variable-items-wrapper .cvy_variation_list_item.selected'))\n\n                    setTimeout(function () {\n                        let src = jQuery('.variable-items-wrapper .cvy_variation_list_item.selected').data('src')\n                        let full_src = jQuery('.variable-items-wrapper .cvy_variation_list_item.selected').data('full_src') ? jQuery('.variable-items-wrapper .cvy_variation_list_item.selected').data('full_src') : src\n                        let thumb_src = jQuery('.variable-items-wrapper .cvy_variation_list_item.selected').data('thumb_src') ? jQuery('.variable-items-wrapper .cvy_variation_list_item.selected').data('thumb_src') : src\n                        if (oldSrc !== src) {\n                            jQuery('#gallery-swiper-main .swiper-slide.variation').remove()\n                            jQuery('#gallery-swiper-vertical .swiper-slide.variation').remove()\n                            jQuery('#lightbox .swiper-slide.variation').remove()\n                            jQuery('#gallery-swiper-main .swiper-slide:first-child').before(`<div class=\"swiper-slide variation fancybox-trigger\"><img src=\"${src}\" width=\"645\" height=\"545\" alt=\"\"></div>`)\n                            jQuery('#gallery-swiper-vertical .swiper-slide:first-child').before(`<div class=\"swiper-slide variation\"><img src=\"${thumb_src}\" width=\"80\" height=\"80\" alt=\"\"></div>`)\n                            jQuery('#lightbox .swiper-slide:first-child').before(`<div class=\"swiper-slide variation\"><img src=\"${full_src}\"  alt=\"\"></div>`)\n                            swiperMain.update();\n                            swiperVertical.update();\n                            mySwiper.update();\n                            swiperMain.slideTo(0);\n                            swiperVertical.slideTo(0);\n                            swiperMain.update();\n                        }\n\n                    }, 300)\n\n                });\n\n            }\n\n            $scope.find('.galleryPopup').fancybox({});\n\n            swiperMain.on('click', function (swiper, event) {\n                console.log(swiper, event);\n                $(swiper.target).closest('.fancybox-trigger')\n                fancyboxHandler($(swiper.target).closest('.fancybox-trigger'))\n\n\n            });\n            // $(document).on('click', '.fancybox-trigger', fancyboxHandler);\n\n            function fancyboxHandler(item) {\n                console.log('click touchstart')\n\n                jQuery('#lightbox .swiper-slide').each(function (index) {\n                    jQuery(this).attr('data-id', index)\n                })\n                jQuery('#gallery-swiper-main .swiper-slide').each(function (index) {\n                    jQuery(this).attr('data-id', index)\n                })\n                var thisTarget = $(item).attr('data-id');\n\n                $.fancybox.open({\n                    src: \"#lightbox\",\n                    type: 'inline',\n                    opts: {\n                        toolbar: false,\n                        defaultType: 'inline',\n                        autoFocus: true,\n                        touch: false,\n                        afterLoad: function () {\n                            mySwiper.init();\n                            mySwiper.slideTo(thisTarget)\n                            mySwiper.update()\n\n                        }\n                    }\n                })\n\n            }\n\n        };\n\n        $(window).on('elementor/frontend/init', function () {\n            elementorFrontend.hooks.addAction('frontend/element_ready/custom-woo-single-slider.default', ProductGallery);\n        });\n    }\n)\n(jQuery);"]}