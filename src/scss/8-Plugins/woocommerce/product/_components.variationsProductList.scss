.single-product {
  &.woocommerce {
    .reset_variations {
      display: none !important;
    }

    .variations {
      #pa_capacity ~ .variable-items-wrapper {
        padding: 10px 0;
      }
    }

    .button-variable-item {
      width: auto !important;
      height: auto !important;
      padding: 8px 10px !important;
      border-radius: 0 !important;
      box-shadow: 0 0 0 2px #000 !important;

      &:not(:last-child) {
        margin: 4px 12px 4px 0;
      }

      .variable-item-span {
        width: auto !important;
        height: auto !important;
        @include font(base, 16, 400);
        color: palette(text, 500);
        border-radius: 0 !important;
      }

      &.selected {
        box-shadow: 0 0 0 3px #b8d048 !important;
      }
    }

    .product {
      &.product_cat-electric-radiators {
        .variations {

          tr {
            display: flex !important;
            align-items: center;

            &:not(:last-child) {
              margin-bottom: 14px;

              .label {
                width: 130px;
                min-width: 120px;

                label {
                  margin-bottom: 0;
                }
              }
            }

            &:not(:first-child):not(:last-child) {
              margin-top: 0;
              @include mq(null, 990) {
                .variations-item {


                  .label {

                    padding: 0 10px 0 0;
                  }
                }
              }
            }

            &:last-child {
              display: block !important;
            }

            .label {

              label {
                display: block;
                margin-bottom: 8px;
                color: palette(text, 500);
                @include font(base, 19, 500);

                & + .woo-selected-variation-item-name {
                  display: none;
                }
              }
            }

            td, th.label {
              width: 100%;
              padding: 0;
              background-color: transparent;
            }

            &:last-child {
              .label {
                label {
                  margin: 0 0 18px;

                }
              }
            }
          }

          .woo-variation-items-wrapper {
            &.value {
              padding: 2px;
              @include mq(990) {
                width: 100% !important;
              }
            }

          }

          tr {
            .variations-item {
              display: flex;
              background: #F7F7F7;
              padding: 15px 20px;
              margin: 0;
              align-items: center;
              @include mq(1025) {
                padding: 20px;
              }
            }

            .calc-popup-block {
              padding: 15px 20px;
              display: flex;
              justify-content: center;
              background: #FDF3E0;
              @include mq(1025) {
                padding: 20px;
              }
              margin-bottom: 14px;


              .c-options-btns__item:after {
                display: none !important;
              }

              .c-options-btns__item--wattage {

                color: #FC9E4E;

                text-decoration: underline;
                @include font(m4-small, 16, 700);
              }
            }

            &:last-child {
              /*Start changes*/
              .value {
                width: 100%;
                //$from: #f5f5f5;
                //$to: scale-color($from, $lightness: -10%);
                //background: linear-gradient(to right, #efefef 0%, #fcfcfc 50%, #efefef 100%);
                //background-size: 400% 400%;
                //???
                //animation: pulse 1.2s ease-in-out infinite;
                //overflow: hidden;


                &.is-loaded {
                  height: auto;
                  max-height: initial;
                  background: none;
                  overflow: visible;
                }
              }

              /*End changes*/
              .button-variable-wrapper {
                width: 100%;

                &:not(.c-radiators-select) {


                  max-width: 100%;

                  li {
                    &.hidden-by-type {
                      display: none;
                    }
                  }
                }

                &.JS--radiators-select {
                  display: none;
                }

                &.variable-items-wrapper.is-hidden {
                  display: flex;
                  position: static;
                  flex-wrap: nowrap;

                  .cvy_variation_list_item {
                    flex-direction: column;
                  }
                }

                .cvy_variation_list_item {
                  position: relative;
                  border-radius: 0;
                  //margin-right: 20px;
                  display: flex;
                  border: 1px solid #FFFFFF;
                  align-items: center;
                  background-color: #FFFFFF;
                  box-shadow: none;
                  padding: 10px !important;
                  justify-content: space-between !important;
                  width: 100%;
                  height: auto;
                  text-align: center;
                  cursor: pointer;
                  list-style-type: none;
                  outline: none;

                  @include mq(340) {
                    padding: 1px 1px 1px 0;
                  }


                  &.no-match {
                    display: none;
                  }

                  &.selected {
                    border: 1px solid #000000;
                    padding: 10px;

                    &:after {
                      content: '';
                      position: absolute;
                      right: -15px;
                      top: -15px;
                      display: block;
                      border-radius: 50%;
                      width: 34px;
                      height: 34px;
                      border: 2px solid #B8D048;
                      background-image: url("../../../img/icons/black-checkbox-icon.svg");
                      background-position: center;
                      background-repeat: no-repeat;
                      background-color: white;
                    }

                    //background-color: palette(secondary, 160);
                    //box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.16);
                  }

                  .cvy_field_groups {


                    .cvy_property_field, .cvy_property_area {
                      padding: 0 4px;
                      @include mq(576) {
                        padding: 0 7px;
                      }
                    }

                    .cvy_property_area {
                      align-items: center;
                      max-width: 49%;
                      padding: 15px 0;


                      .cvy_property_field {
                        padding: 0;
                        @include mq(480) {
                          padding-right: 0;
                        }
                      }

                      .cvy_tip_content {
                        visibility: hidden;
                        padding: 15px;
                        background: #E5E5E5;
                        border-radius: 0;
                        box-shadow: none;
                        left: calc(50% - 116px);
                        width: 222px;

                        h4, p {
                          text-align: center !important;
                          color: palette(text, 500) !important;

                        }

                        h4 {
                          margin-bottom: 12px !important;
                          @include font(s-large, 24, 300);
                        }

                        p {
                          max-width: 166px;
                          margin: 0 auto;
                          font-size: 14px !important;
                          line-height: 20px;
                        }

                        &:after {
                          border-top: 14px solid #E5E5E5;
                          border-left: 12px solid transparent;
                          border-right: 12px solid transparent;
                        }
                      }

                      .cvy_insulation_info {
                        background: #e5e5e5;
                        width: 12px;
                        height: 12px;
                        font-size: 9px;
                        @include mq(480) {
                          width: 16px;
                          height: 16px;
                          font-size: 10px;
                        }
                      }

                      .cvy_insulation_info:hover + .cvy_tip_content {
                        visibility: visible;
                      }

                      .cvy_tip {
                        display: inline-block;
                      }
                    }

                    .variation-dropdown-price {
                      max-width: 49%;
                      width: 100%;
                      margin: 0;
                      padding: 15px 0;
                      @include font(m-mid-large, 20, 700);

                    }

                    .cvy_property_field {
                      line-height: 1;
                      max-width: 100%;
                      width: 100%;

                      .cvy_wattage {
                        display: inline-block;
                        color: palette(text, 600);
                        text-align: center;
                        min-width: 100%;
                        @include font(s1-large, 20, 300);
                      }

                      .cvy_area_label {
                        display: inline-block;
                        max-width: 34px;
                        @include font(m-small, 12, 400);
                        color: #b1b1b1;
                        text-align: left;
                        text-transform: uppercase;
                      }

                      .cvy_area {
                        color: palette(text, 600);

                        @include font(m-mid-large, 20, 300);


                        sup {
                          line-height: 1;

                          font-size: 14px;

                        }
                      }

                      &.cvy_dimensions {
                        font-size: 10px;
                        max-width: 100%;
                        text-align: center;
                        @include font(m3-small, 12, 400);

                      }
                    }
                  }

                  &.out-stock-yes {
                    pointer-events: none;
                    opacity: 0.3;
                  }

                  a {


                  }
                }
              }
            }
          }
        }
      }

    }


    .single_variation_wrap {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      margin: 0;

      .woocommerce-variation {
        &:first-child {
          display: none !important;
        }
      }

      .woocommerce-variation {
        padding: 0 10px;

        @include mq(480) {
          display: none !important;
        }

        .woocommerce-variation-availability {
          display: none;
        }
      }

      .woocommerce-variation-price {
        .price {
          .woocommerce-Price-amount, .woocommerce-Price-currencySymbol {
            color: #333;
            font-size: 24px !important;
          }
        }
      }

      .woocommerce-variation-add-to-cart {
        padding: 0;

        flex-grow: 1;
        justify-content: center;
        @include mq(480) {
          //margin: 0 -10px !important;
          justify-content: flex-start;
        }

        .quantity {
          display: inline-block !important;
          margin: 0 !important;
          padding: 0 20px 0 10px;
        }

        .single_add_to_cart_button {
          margin: 20px 10px 0;
          outline: none;
          box-shadow: 0 3px 6px 0 rgba(0, 0, 0, .16);
          @include mq(480) {
            flex: 1 1 auto !important;
            margin: 0 6px 0 8px;
          }
          //@include mq(1200) {
          //  margin: 0 18px 0 20px;
          //}
        }
      }
    }

    .woocommerce-variation-add-to-cart {
      flex-wrap: wrap !important;

      .product_upsells {
        padding: 15px 20px;
        width: 100%;
        margin-bottom: 14px;
        background: #F7F7F7;
        display: flex;
        flex-wrap: wrap;

        @include mq(1025) {
          padding: 20px;
          flex-wrap: nowrap;
        }

        h3 {
          width: 150px;
        }

        .select-box {
          .woocommerce-Price-amount {
            font-weight: bold;
          }

          a {
            display: none;
          }
        }


        h3 {
          margin-bottom: 18px;
          @include font(base, 19, 500);
          color: palette(text, 500);
        }

        ul {
          margin: 0;

          li {
            list-style-type: none;
            display: block;

            &:not(:last-child) {
              margin-bottom: 20px;
              @include mq(768) {
                margin-bottom: 14px;
              }
            }

            .columns {
              width: 100%;
              float: none;

              .select-box {
                position: relative;

                input[type="checkbox"] {
                  position: absolute;
                  top: 0;
                  left: 0;
                  margin: 0;
                  border: none;
                  z-index: -333;
                  opacity: 0;
                }

                label {
                  position: relative;
                  display: inline-block;
                  padding-left: 32px;
                  @include font(m3-small, 20, 400);
                  cursor: pointer;
                  @include mq(480) {
                    @include font(small, 22, 400);
                    padding-left: 34px;
                  }

                  a {
                    //display: inline-block;
                    //margin-left: 5px;
                    //
                    //svg {
                    //  display: inline-block;
                    //  margin-left: 2px;
                    //  margin-bottom: 2px;
                    //}
                  }

                  &:after, &:before {
                    content: '';
                    position: absolute;
                  }

                  &:before {
                    top: 0;
                    left: 0;
                    width: 20px;
                    height: 20px;
                    border: 1px solid #a4a4a4;
                    background: #fff;
                    @include mq(480) {
                      top: 0;
                      width: 22px;
                      height: 22px;
                    }
                  }

                  &:after {
                    top: 3px;
                    left: 4px;
                    display: block;
                    width: 14px;
                    height: 13px;
                    background-image: url(../../../img/icons/extra-checkbox-icon.svg);
                    background-position: center;
                    background-repeat: no-repeat;
                    background-size: cover;
                    opacity: 0;
                    transition: opacity .2s ease-in-out;
                    @include mq(480) {
                      top: 3px;
                      left: 5px;
                      width: 15px;
                      height: 14px;
                    }
                  }
                }

                input[type="checkbox"]:checked + label {
                  &:before {
                    border-color: palette(primary);
                    background-color: palette(primary);
                    box-shadow: 0 3px 6px 0 rgba(0, 0, 0, .16);
                  }

                  &:after {
                    opacity: 1;
                  }
                }
              }
            }

            .column-1 {
              display: none;
            }

            .title, .price-box, .extra-link {
              display: none;
            }
          }
        }
      }

    }
  }

  .variable-item:not(.radio-variable-item) {
    width: 24px;
    height: 24px;
    margin-bottom: 0 !important;
    margin-top: 0 !important;

    &.selected {

    }
  }
}

.color-variable-item, .button-variable-item {
  &.selected {
    box-shadow: 0 0 0 3px rgba(palette(primary), 1) !important;

    .variable-item-span {
      &:after {
        box-shadow: inset 0 0 3px 0 rgba(0, 0, 0, .16);
      }
    }
  }

  &:hover {
    box-shadow: 0 0 0 3px rgba(palette(primary), 1) !important;
  }
}

.variation-dropdown-price {
  margin-left: 8px;
  margin-bottom: 14px;
  line-height: 1;
  @include mq(576) {
    margin-bottom: 0;
  }
  @include mq($max: 992) {
    flex: 1;
    margin-left: 2px;
    text-align: center;
  }
  @include mq($max: 480) {
    margin-left: 12px;
    text-align: left;
  }

  .price {
    .amount, .woocommerce-Price-currencySymbol {
      color: palette(text, 600);

      @include font(base, 20, 700);
      @include mq(768) {
        @include font(mid-large, 22, 700);
      }

    }
  }

  .c-radiators-select & {
    margin-bottom: 0;
    @include mq($max: 480) {
      text-align: left;
      margin-left: 0;
    }
    @include mq($max: 340) {
      margin-left: 0;
    }

    .price {
      .amount, .woocommerce-Price-currencySymbol {
        @include font(mid, 20, 700);
        @include mq(768) {
          @include font(mid-large, 24, 700);
        }
        @include mq(1200) {
          @include font(m-mid-large, 24, 700);
        }
        @include mq(1300) {
          //@include font(s-large, 28, 700);
          font-size: 23px;
          line-height: 24px;
          font-weight: 700;
        }
      }
    }
  }
}


/*Towels styles*/

.single-product {
  &.woocommerce {
    .product_cat-electric-towel-rails {
      .variations {
        position: relative;

        .label {
          color: #333333;

          @include font(mid, 22, 400);
          padding: 10px 0px;

          label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0 !important;
            flex-wrap: wrap;
            align-items: center;
          }

          .woo-selected-variation-item-name {
            display: none !important;
          }
        }

        .variations-item {

          flex-direction: column !important;
          margin-bottom: 0px;

          .label {
            width: 100% !important;
            max-width: 100% !important;

            label {

              margin-bottom: 0;
              @include font(base, 20, 700);
              color: palette(text, 500);
            }
          }

          &:last-child {
            .label {
              label {
                &:after {
                  //display: none !important;
                }
              }

              label[for="pa_wattage"] {
                margin-bottom: 20px;
              }
            }
          }

          .woo-variation-items-wrapper {
            //margin-bottom: 14px;
          }
        }

        .variable-items-wrapper.button-variable-wrapper {
          .variable-item.button-variable-item {
            &.disabled {
              &:after, &:before {
                height: 0 !important;
              }
            }

            &:not(.radio-variable-item) {
              margin: 4px 10px 10px 0 !important;
            }
          }
        }
      }

      .reset_variations {
        position: absolute;
        top: 15px;
        right: 15px;
        display: inline-block !important;
        @include font(small, 14, 700);
        color: palette(text, 500);
        text-transform: uppercase;
        text-decoration: underline;
      }

      .woo-variation-items-wrapper {

      }

    }
  }
}

.s-compare-ranges--equal {
  .s-compare-ranges__slide {
    height: 100%;

    .c-compare-ranges__body {
      padding: 26px 30px 100px;
    }

    .c-compare-ranges__colors-label, .c-compare-ranges__colors {
      display: none;
    }
  }
}


.single-product.woocommerce .product:not(.product_cat-electric-radiators) table.variations tr:last-child td.label label:after {
  display: none;
}

.woo-variation-swatches.wvs-show-label .product:not(.product_cat-electric-radiators) .variations td .woo-selected-variation-item-name, .woo-variation-swatches.wvs-show-label .product:not(.product_cat-electric-radiators) .variations td label {
  display: inline;
  color: palette(text, 500);
}

.woo-variation-swatches.wvs-show-label .product:not(.product_cat-electric-radiators) .variations td.label + .woo-variation-items-wrapper {
  margin: 20px 0;
}

.single-product.woocommerce {
  table.variations {
    tr {
      &:last-child {
        th.label {
          padding: 0;

          label {
            position: relative;
            width: 100% !important;

            &.c-options-btns-label {
              display: flex;
              justify-content: space-between;
              flex-wrap: wrap;
              @include mq(480) {
                flex-wrap: nowrap;
              }
            }


          }
        }
      }
    }
  }
}

.variations_button__bottom {
  display: flex;
  width: 100%;
  align-items: center;
  padding: 15px 20px;
  background: #F7F7F7;

  flex-wrap: wrap;
  @include mq(null, 1330) {
    justify-content: center;
  }

  @include mq(1330) {
    flex-wrap: nowrap;
    margin: 0 !important;
  }

  .price {
    color: #333333 !important;
    display: flex;
    align-items: baseline;

    .amount {
      @include font(s1-large, 40, 500);
    }

    .o-product-top__price--inc {
      @include font(m-small, 10, 300);
    }
  }
}

.single-product .o-product-top {
  max-width: 100%;
}

.variations-item__slider {
  .label {
    display: flex;
    justify-content: space-between;
  }

  .var-slider__nav-arrow-fr {
    margin: 0 5px;
    font-size: 14px;
    line-height: 14px;
  }

  .var-slider__nav__wrap {
    display: flex;
    align-items: center;

    svg {
      width: 9px;
      height: 18px;
      cursor: pointer;
    }
  }

  .cvy_variation_list_item {

  }
}

.single-product .o-product-top__summary {
  overflow: hidden;
}

.single-product .product_cat-electric-radiators {

  .variations {
    //overflow: hidden;

    td {
      display: block;
    }
  }

  @include mq(null, 990) {
    .woocommerce-variation-add-to-cart {
      margin: 0 !important;
    }

    .variations_button__bottom .price {
      margin-right: 30px;
      order: -1;
    }
    .single_add_to_cart_button {
      width: 100% !important;
      margin: 20px 0 10px !important;
    }
    span.product-availability {
      max-width: 100% !important;
      margin: 10px 0 !important;
    }

    //.product_upsells {
    //  margin: 10px !important;
    //  padding: 0;
    //
    //  h3 {
    //    width: 100% !important;
    //    background-color: #EEEEEE;
    //    display: flex;
    //    align-items: center;
    //    justify-content: space-between;
    //    padding: 8px 15px;
    //    cursor: pointer;
    //    margin-bottom: 0 !important;
    //
    //    &:after {
    //      content: '+';
    //      font-size: 22px;
    //      color: #333333;
    //
    //    }
    //  }
    //
    //  .upsell_options {
    //    height: 0;
    //    visibility: hidden;
    //    opacity: 0;
    //    transition: all .3s ease;
    //
    //    li {
    //      padding: 10px 10px 0;
    //    }
    //
    //    &.ac_open {
    //      height: 100%;
    //      visibility: visible;
    //      opacity: 1;
    //    }
    //  }
    //}


    .variations {
      //background: #f7f7f7;

      tbody {
        display: flex;
        flex-direction: column;

        tr {
          //margin-bottom: 0 !important;

          &:first-child {
            .variations-item {
              display: flex;
              margin: 0 !important;
              padding: 15px 10 !important;

              .label {
                padding: 0 10px;
              }

              .value {
                width: auto !important;
              }
            }
          }
        }
      }

      .variations-item {
        margin: 0;
      }
    }

  }
}

.variations-item.var_slider_wattage {
  flex-direction: column !important;

  position: relative;

  .label {
    max-width: 100% !important;
    @include mq(null, 990) {
      margin-bottom: 10px;
    }
  }

  &:after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to right, #efefef 0, #fcfcfc 50%, #efefef 100%);
    background-size: 400% 400%;
    animation: pulse 1.2s ease-in-out infinite;
    overflow: hidden;
    z-index: 111;
    @include mq(480) {
      right: 0;
      left: auto;
    }
  }

  &.is-loaded {
    &:after {
      display: none;
    }
  }
}

.woo-variation-items-wrapper.swiper-custom {
  position: relative;
  overflow: visible !important;
  max-width: 100%;

  @include mq(580) {
    max-width: 75%;
  }

  @include mq(460, 580) {
    max-width: 100%;
  }
  @include mq(340, 460) {
    max-width: calc(100vw - 75px - 104px);
  }
  @include mq(null, 340) {
    max-width: 90%;

  }

  .swiper-wrapper {
    flex-wrap: nowrap;

    .swiper-slide {
      //width: 210px !important;
      display: flex !important;
      flex-direction: column;
      //max-width: 212px;


    }

    .swiper-slide.no-match {
      display: none !important;
    }
  }

  .cvy_field_groups {
    flex-direction: row !important;
    flex-wrap: wrap !important;
    justify-content: center;
    padding: 10px 0;
  }

  &:before, &:after {
    content: '';
    width: 20px;
    height: calc(100% + 30px);

    @include mq(580) {
      left: calc(130% + 20px);;
    }
    @include mq(460, 580) {
      left: calc(100%);
    }
    @include mq(340, 460) {
      left: calc(100vw - 60px);
    }
    @include mq(null, 340) {
      left: calc(100vw - 60px);
    }

    top: -20px;
    background-color: #F7F7F7;
    display: block;
    position: absolute;
    z-index: 11;
  }

  &:after {
    left: -20px;
  }
}

.cvy_image_groups {
  position: relative;
  background: #fff;
  padding: 2px;

  &:focus-visible {
    outline: none;
  }

  .cvy_product_thumbnail {
    margin: 0 auto;
    border-radius: 0;
    max-width: 85px;
    object-fit: cover;
    max-height: 80px;
    @include mq(null, 767) {
      max-width: 95px;
      max-height: 90px;
    }
    border-radius: 0 !important;
  }

  &__zoom {
    &:before {
      content: '';
      position: absolute;
      right: -16px;
      top: 0;
      width: 24px;
      height: 22px;
      @include mq(null, 767) {
        width: 34px;
        height: 32px;
      }
      background-position: center;
      background-repeat: no-repeat;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23707070' d='M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z'%3E%3C/path%3E%3C/svg%3E");
    }
  }
}

.variations {
  .variations-item__slider {
    flex-direction: column;
  }

  .swiper-custom .swiper-wrapper {
    flex-wrap: nowrap;

    .swiper-slide {
      .cvy_field_groups {
        .cvy_property_field:first-child {
          span {
            text-align: end;
          }

          max-width: 49%;
        }

        .cvy_property_area {
          max-width: 49%;
        }

        flex-direction: row !important;
        flex-wrap: wrap !important;
        justify-content: center;
        padding: 10px 0;
      }


      display: flex !important;
      flex-direction: column;

      &.no-match {
        display: none !important;
      }
    }
  }
}

.variation-dropdown-specification__bottom__list {
  .cvy_insulation_info {
    bottom: 0px;
    width: 14px;
    height: 14px;
    margin: 0px 0 0 4px;
  }
  span {
    pointer-events: auto !important;
  }
  .cvy_tip {
    display: inline-block !important;
  }
}